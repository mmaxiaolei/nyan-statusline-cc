# ğŸ± Nyan StatusLine for Claude Code

ä¸º Claude Code æ‰“é€ çš„å½©è™¹çŒ«çŠ¶æ€æ ï¼Œç”¨ Go å®ç°ï¼Œè½»é‡æ— ä¾èµ–ã€‚

![macOS](https://img.shields.io/badge/platform-macOS-blue)
![Go](https://img.shields.io/badge/language-Go-00ADD8)
![License](https://img.shields.io/badge/license-MIT-green)

## æ•ˆæœé¢„è§ˆ

```
ğŸ¤– Claude Sonnet 4 â”‚ ğŸ“ my-project â”‚ ğŸŒ¿ main* â”‚ â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 26.5% â”‚ ğŸ’° $0.123 â”‚ +45 -12 â”‚ â±ï¸ 2m5s â”‚ ğŸ“¥50k ğŸ“¤25k â”‚ ğŸŒˆğŸŒˆğŸŒˆğŸŒˆğŸŒˆğŸŒˆğŸŒˆğŸ±âœ¨ â”‚ â™¥
ğŸ“… 15å¤© â”‚ ğŸ”¥ 8å¤© â”‚ âš¡ 3è¿ â”‚ ğŸ’¬ 42ä¼šè¯ â”‚ ğŸ—£ï¸ 1250æ¶ˆæ¯ â”‚ ğŸ“ˆ ä»Šæ—¥12 â”‚ ğŸŒ† 14ç‚¹ â”‚ ğŸ¥ˆ è¯å” æ–°æ˜Ÿ â”‚ ğŸš€ ç«åŠ›å…¨å¼€
```

**ç¬¬ä¸€è¡Œ** å®æ—¶ä¿¡æ¯:

| å…ƒç´  | è¯´æ˜ |
|------|------|
| ğŸ¤– æ¨¡å‹åç§° | å½“å‰ä½¿ç”¨çš„ Claude æ¨¡å‹ |
| ğŸ“ é¡¹ç›®ç›®å½• | å½“å‰å·¥ä½œç›®å½•å |
| ğŸŒ¿ Git åˆ†æ”¯ | åˆ†æ”¯å + æœªæäº¤æ ‡è®° `*` |
| ğŸŒˆ å½©è™¹è¿›åº¦æ¡ | ä¸Šä¸‹æ–‡çª—å£ä½¿ç”¨ç‡ (ç»¿ < 30% < é»„ < 80% < çº¢) |
| ğŸ’° æˆæœ¬ | æœ¬æ¬¡ä¼šè¯ç´¯è®¡è´¹ç”¨ |
| +/- ä»£ç å˜æ›´ | æ–°å¢/åˆ é™¤è¡Œæ•° |
| â±ï¸ æ—¶é•¿ | ä¼šè¯æŒç»­æ—¶é—´ |
| ğŸ“¥ğŸ“¤ Token | è¾“å…¥/è¾“å‡º token ç»Ÿè®¡ |
| ğŸ± Nyan Cat | å½©è™¹çŒ«åŠ¨ç”» (7 è‰² ANSI å½©è™¹å°¾å·´ + emoji çŒ«å’ª) |
| â™¥ å¿ƒè·³ | å¿ƒè·³åŠ¨ç”» |

**ç¬¬äºŒè¡Œ** ç»Ÿè®¡ä¿¡æ¯: ä½¿ç”¨å¤©æ•°ã€æ´»è·ƒå¤©æ•°ã€è¿ç»­æ´»è·ƒã€ä¼šè¯æ•°ã€æ¶ˆæ¯æ•°ã€ä»Šæ—¥ç»Ÿè®¡ã€é«˜å³°æ—¶æ®µã€æˆå°±å¾½ç« ã€éšæœºçŠ¶æ€

## å®‰è£…

### ä¸€é”®å®‰è£… (æ¨è)

```bash
git clone https://github.com/your-org/nyan-statusline-cc.git
cd nyan-statusline-cc
./install.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨:
1. æ£€æµ‹ macOS æ¶æ„ (arm64/amd64)
2. ç¼–è¯‘äºŒè¿›åˆ¶åˆ° `~/.claude/nyan-statusline`
3. æ›´æ–° `~/.claude/settings.json` (è‡ªåŠ¨å¤‡ä»½åŸé…ç½®)

### æ‰‹åŠ¨å®‰è£…

```bash
# æ„å»º
make build

# å®‰è£…åˆ° ~/.claude/
make install
```

ç„¶åæ‰‹åŠ¨ç¼–è¾‘ `~/.claude/settings.json`:

```json
{
  "statusLine": {
    "type": "command",
    "command": "~/.claude/nyan-statusline",
    "padding": 0
  }
}
```

é‡å¯ Claude Code å³å¯ç”Ÿæ•ˆã€‚

## ç¯å¢ƒè¦æ±‚

- macOS (arm64 / amd64)
- Go 1.21+ (ä»…ç¼–è¯‘æ—¶éœ€è¦)
- Git (ç”¨äºçŠ¶æ€æ æ˜¾ç¤ºåˆ†æ”¯ä¿¡æ¯)

## åŠ¨ç”»ç‰¹æ€§

- **Nyan Cat**: 7 è‰² ANSI å½©è™¹å°¾å·´ (çº¢æ©™é»„ç»¿é’è“ç´«) æ»šåŠ¨ + emoji çŒ«å’ªäº¤æ›¿ (ğŸ±ğŸ˜ºğŸ˜¸)ï¼Œçº¦ 4fps
- **å½©è™¹è¿›åº¦æ¡**: ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡ä»¥ ANSI 256 è‰²æ¸å˜æ¸²æŸ“ï¼Œæ›¿ä»£ä¼ ç»Ÿ `â–ˆâ–‘` è¿›åº¦æ¡
- **å¿ƒè·³åŠ¨ç”»**: â™¡ â†’ â™¥ â†’ ğŸ’— å¾ªç¯ï¼Œçº¦ 3fps
- **æ˜Ÿæ˜Ÿç‚¹ç¼€**: âœ¨â­ äº¤æ›¿é—ªçƒ
- **éšæœºçŠ¶æ€**: 12 ç§è¶£å‘³çŠ¶æ€æ–‡å­—ï¼Œæ¯åˆ†é’Ÿè½®æ¢

æ‰€æœ‰åŠ¨ç”»åŸºäºç³»ç»Ÿæ—¶é—´é©±åŠ¨ï¼Œæ— çŠ¶æ€è®¾è®¡ï¼Œæ¯æ¬¡è°ƒç”¨ç‹¬ç«‹è®¡ç®—ã€‚

## æˆå°±ç³»ç»Ÿ

| æ¡ä»¶ | å¾½ç«  |
|------|------|
| æ¶ˆæ¯ â‰¥ 1000 | ğŸ† åƒè¨€ä¸‡è¯­ |
| æ¶ˆæ¯ â‰¥ 500 | ğŸ¥‡ æ¶ˆæ¯è¾¾äºº |
| æ¶ˆæ¯ â‰¥ 100 | ğŸ¥ˆ è¯å” æ–°æ˜Ÿ |
| ä¼šè¯ â‰¥ 100 | ğŸ‘‘ ä¼šè¯ä¹‹ç‹ |
| ä¼šè¯ â‰¥ 50 | â­ ä¼šè¯ä¸“å®¶ |
| è¿ç»­ â‰¥ 30å¤© | ğŸ”¥ æœˆåº¦åšæŒ |
| è¿ç»­ â‰¥ 7å¤© | ğŸ’ª å‘¨åº¦åšæŒ |
| è¿ç»­ â‰¥ 3å¤© | âœŠ ä¸‰è¿å‡» |
| æ´»è·ƒ â‰¥ 30å¤© | ğŸ–ï¸ è€ç”¨æˆ· |

## é¡¹ç›®ç»“æ„

```
nyan-statusline-cc/
â”œâ”€â”€ main.go                  # å…¥å£: stdin JSON â†’ stdout çŠ¶æ€æ 
â”œâ”€â”€ Makefile                 # æ„å»º/å®‰è£…/æµ‹è¯•
â”œâ”€â”€ install.sh               # ä¸€é”®å®‰è£…è„šæœ¬
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ model/               # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ types.go         #   Claude Code JSON schema
â”‚   â”‚   â””â”€â”€ stats.go         #   ç»Ÿè®¡ç¼“å­˜ç»“æ„
â”‚   â”œâ”€â”€ parser/              # stdin JSON è§£æ
â”‚   â”œâ”€â”€ formatter/           # æˆæœ¬/æ—¶é•¿/Token æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ git/                 # Git åˆ†æ”¯å’ŒçŠ¶æ€
â”‚   â”œâ”€â”€ stats/               # ç»Ÿè®¡ç¼“å­˜/æˆå°±ç³»ç»Ÿ
â”‚   â”œâ”€â”€ animation/           # åŠ¨ç”»å¼•æ“
â”‚   â”‚   â”œâ”€â”€ nyan.go          #   Nyan Cat å½©è™¹çŒ«
â”‚   â”‚   â””â”€â”€ effects.go       #   å½©è™¹è¿›åº¦æ¡/å¿ƒè·³/éšæœºçŠ¶æ€
â”‚   â””â”€â”€ render/              # æ¸²æŸ“å¼•æ“
â”‚       â”œâ”€â”€ ansi.go          #   ANSI é¢œè‰²å·¥å…·
â”‚       â””â”€â”€ renderer.go      #   çŠ¶æ€æ ç»„è£…è¾“å‡º
â””â”€â”€ test/
    â””â”€â”€ sample_input.json    # æµ‹è¯•æ•°æ®
```

## å¼€å‘

```bash
# è¿è¡Œæµ‹è¯•
make test

# é™æ€æ£€æŸ¥
make lint

# æœ¬åœ°æµ‹è¯•æ•ˆæœ
make build
cat test/sample_input.json | ./nyan-statusline
```

## å·¥ä½œåŸç†

Claude Code é€šè¿‡ `settings.json` ä¸­çš„ `statusLine.command` é…ç½®è°ƒç”¨å¤–éƒ¨ç¨‹åº:

1. Claude Code å°†ä¼šè¯æ•°æ®ä»¥ JSON æ ¼å¼å†™å…¥ç¨‹åºçš„ stdin
2. ç¨‹åºè§£æ JSONï¼Œæå–æ¨¡å‹ã€æˆæœ¬ã€Tokenã€ä¸Šä¸‹æ–‡ç­‰ä¿¡æ¯
3. ç»“åˆ Git çŠ¶æ€å’Œç»Ÿè®¡ç¼“å­˜ï¼Œæ¸²æŸ“ ANSI å½©è‰²è¾“å‡ºåˆ° stdout
4. Claude Code åœ¨çŠ¶æ€æ åŒºåŸŸæ˜¾ç¤ºè¯¥è¾“å‡º

æ¯æ¬¡çŠ¶æ€æ åˆ·æ–°éƒ½æ˜¯ä¸€æ¬¡ç‹¬ç«‹è°ƒç”¨ï¼Œç¨‹åºæ— éœ€ç»´æŠ¤çŠ¶æ€ã€‚

## è‡´è°¢

- [statusLine](https://github.com/anthropics/statusLine) - åŸç‰ˆ Python å®ç°
- [NyanProgressBar](https://github.com/batya239/NyanProgressBar) - Nyan Cat åŠ¨ç”»çµæ„Ÿæ¥æº
